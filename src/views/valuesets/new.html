<h2>ValueSet
  <div class="btn-group pull-right">
    <a class="btn btn-default" ng-click="state='form'">form</a>
    <a class="btn btn-default" ng-click="state='json'" >json</a>
    <a class="btn btn-default" ng-click="state='info'" >info</a>
  </div>
</h2>
<hr/>

<div ng-show="state=='form'">
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <label class="col-sm-2 control-label">name</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" ng-model="v.name" placeholder="name">
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">identifier</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" placeholder="id" ng-model="v.identifier">
      </div>
    </div>
  </form>

  <form ng-show="state=='form'" class="form-horizontal" role="form" ng-submit="addConcept()">
    <h3>definition.concept</h3>
    <hr/>
    <div class="form-group" ng-repeat="i in v.definition.concept">
      <div class="col-sm-2">
        <input type="text" class="form-control" placeholder="code" ng-model="i.code">
      </div>
      <div class="col-sm-9">
        <input type="text" class="form-control" placeholder="description" ng-model="i.description">
      </div>
      <div class="col-sm-1">
        <a ng-click="rmConcept(i)" class="btn btn-default"> remove </a>
      </div>
    </div>
    <hr/>
    <div class="form-group">
      <button type="submit" class="btn btn-default">Add</button>
    </div>
  </form>
</div>

<div ng-show="state=='json'">
  <pre>{{vjson}}</pre>
  <ui-codemirror
    style="min-height: 1000px;"
    ui-codemirror-opts="{mode: 'javascript', lineWrapping: true, lineNumbers: true, json: true}"
    ui-refresh="state=='json'"
    ng-model='vjson'/>
</div>

<div ng-show="state=='info'">
  <div>
    <h3>Scope and Usage</h3>
    <p>
    Value sets may be constructed in one of two ways:
    </p>
    <ul>
      <li>A value set can <i>define</i> its own codes, and/or</li>
      <li>A value set can be <i>composed</i> of codes defined in other code systems, either by listing the codes or by providing a set of selection criteria</li>
    </ul>
    <p>
    A value set can also be "expanded", where the value set is turned into a simple collection of enumerated codes.
    This operation is performed to produce a collection of codes that are ready to use for data entry or
    validation. An expanded value set may also contain the original definition as well.
    </p>
  </div>
  <ng-include src="src/views/valuesets/uml.html" />
</div>
